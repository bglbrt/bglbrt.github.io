<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="keywords" content="blog, accent, {{ site.author }}, {{ site.title }}, jekyll">
    <meta name="author" content="{{ site.author }}">
    <meta name="google-site-verification" content="Xm_5ZOSckkc8NNSBhmoNLbWjGT5-ig0jnhVg4TkJFUA" />
    {% if page.url == "/404.html" %}
        <meta http-equiv="refresh" content="5; url=/">
    {% endif %}
    {% if page.description %}
        {% assign desc = page.description %}
    {% else %}
        {% assign desc = site.description %}
    {% endif %}
    {% if page.url %}
        {% assign url = site.url | append: site.baseurl | append: page.url %}
    {% else %}
        {% assign url = site.url | append: site.baseurl | append: page.url %}
    {% endif %}
    <meta name="description" content="{{ desc }}">
    <meta name="theme-color" content="#0f120a" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#041411" media="(prefers-color-scheme: dark)">
    <link rel="alternate" type="application/rss+xml" title="{{ site.title }} RSS" href="{{ '/feed.xml' | relative_url }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ '/css/main.css' | relative_url }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ '/images/favicon/favicon-32x32.png' | relative_url }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ '/images/favicon/favicon-16x16.png' | relative_url }}">
    <link rel="shortcut icon" href="{{ '/images/favicon/favicon.ico' | relative_url }}">
    <!--KaTeX-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                // ...options...
            });
        });
    </script>
</head>
<body>
    <div class="site">
        {% if page.lang == "en" %}
            {% assign alt_href = '/' | relative_url %}
            {% assign alt_label = 'FR' %}
        {% else %}
            {% assign alt_href = '/en/about' | relative_url %}
            {% assign alt_label = 'EN' %}
        {% endif %}
        <header class="terminal-header" role="banner">
            <div class="terminal-header__inner">
                <div class="brand">
                    <span class="brand__prompt" aria-hidden="true">&gt;_</span>
                    <a class="brand__link" href="{{ '/' | relative_url }}">{{ site.title }}</a>
                </div>
                <div class="terminal-controls">
                    <a class="lang-toggle" href="{{ alt_href }}">{{ alt_label }}</a>
                    <button class="theme-toggle" type="button" data-theme-toggle data-theme-state="light">
                        <span class="theme-toggle__label sr-only">Toggle theme</span>
                    </button>
                </div>
            </div>
            {% if site.description %}
                <p class="terminal-subtitle" data-terminal-line>
                    <span aria-hidden="true">~$</span>
                    <span>{{ site.description }}</span>
                </p>
            {% endif %}
            <nav class="terminal-nav" aria-label="Primary">
                <div class="terminal-path" aria-hidden="true">~/</div>
                <ul class="terminal-menu">
                {% for x in site.nav %}
                    {% if x.lang == page.lang %}
                        <li>
                            {% if x.name == "Resume" or x.name == "CV" %}
                                <a target="_blank" rel="noopener" href="{{ x.link }}">{{ x.name }}</a>
                            {% else %}
                                <a href="{{ x.link }}">{{ x.name }}</a>
                            {% endif %}
                        </li>
                    {% endif %}
                {% endfor %}
                </ul>
            </nav>
        </header>
        <main class="terminal-main content{% if page.is_contact == true %} contact{% endif %}">
            {{ content }}
        </main>
    </div>
    <script>
        (function () {
            var storageKey = "preferred-theme";
            var root = document.documentElement;
            var toggle = null;

            function applyTheme(theme) {
                root.setAttribute("data-theme", theme);
                if (toggle) {
                    toggle.setAttribute("data-theme-state", theme);
                }
            }

            function getPreferredTheme() {
                var stored = localStorage.getItem(storageKey);
                if (stored) {
                    return stored;
                }
                return window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
            }

            function setupToggle() {
                toggle = document.querySelector("[data-theme-toggle]");
                if (!toggle) {
                    return;
                }
                toggle.addEventListener("click", function () {
                    var nextTheme = root.getAttribute("data-theme") === "dark" ? "light" : "dark";
                    applyTheme(nextTheme);
                    localStorage.setItem(storageKey, nextTheme);
                });
                toggle.setAttribute("data-theme-state", root.getAttribute("data-theme"));
            }

            var initial = getPreferredTheme();
            applyTheme(initial);
            setupToggle();

            if (toggle) {
                toggle.setAttribute("data-theme-state", root.getAttribute("data-theme"));
            }

            if (window.matchMedia) {
                var mediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
                mediaQuery.addEventListener("change", function (event) {
                    if (!localStorage.getItem(storageKey)) {
                        applyTheme(event.matches ? "dark" : "light");
                    }
                });
            }
        })();
    </script>
</body>
</html>
